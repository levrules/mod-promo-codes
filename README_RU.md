# Promo System for AzerothCore

## Описание

Этот модуль добавляет систему промокодов для сервера AzerothCore (World of Warcraft 3.3.5a). Игроки могут вводить специальные коды через команду в чате и получать различные награды, включая предметы, золото, очки чести, очки арены, смену фракции и другие бонусы.

## Возможности
- Активация промокодов через команду `/promo <код>`.
- Выдача различных наград в зависимости от типа промокода.
- Ограничения по использованию промокодов (уникальность на персонажа или аккаунт).
- Автоматическое уменьшение количества доступных промокодов.
- Проверка временных ограничений промокодов (даты начала и окончания).

> [!IMPORTANT]
## Установка
1. Клонируйте данный репозиторий:
   ```bash
   cd path/to/azerothcore/modules
   git clone https://github.com/levrules/mod-promo-codes.git
   ```
2. Повторно запустите cmake и запустите чистую сборку AzerothCore.
3. Перезапустите сервер, чтобы применить изменения.
4. ClientSide необходимо установить в патч
5. Подключаем файл `ClientSide/Interface/FrameXML/Custom_PromoCode/Custom_PromoCode.xml` в файл `Interface/FrameXML/FrameXML.toc`

> [!CAUTION]
## Обратите внимание!
- Для правильного отображения информации, измените текст в таблице `acore_string`. 
- Отображение в фрейме происходит только по ключевому слову PROMO


## Использование
Игроки могут активировать промокоды с помощью следующей команды в чате:
```
/promo <код>
```
Пример:
```
/promo FREEMOUNT2024
```
## Типы наград (`promo.type`)

| Тип | Описание |
|-----|----------|
| `0` | Выдача предмета |
| `1` | Изучение заклинания |
| `2` | Выдача золота (не бронза) |
| `3` | Начисление очков чести |
| `4` | Начисление очков арены |
| `5` | Смена фракции |
| `6` | Смена имени |
| `7` | Смена расы |

## Пример добавления промокода в базу данных
```sql
INSERT INTO promo (code, type, value, amount, count, uniqueCharacters, uniqueAccount, enable, start_time, end_time)
VALUES ('FREEMOUNT2024', 0, 49908, 20, 100, 1, 1, 1, '2025-01-01 00:00:00', '2025-12-31 23:59:59');
```
Этот промокод выдаст игроку предмет с ID `49908` (Древнейший саронит), доступен 100 раз, с ограничением 1 раз на персонажа и аккаунт, активен весь 2025 год.

## Авторы
- Разработчик: *Moloko*
- Контакты: *[GitHub](https://github.com/levrules)*

- Идею подал: *laenholdqqs*
- Контакты: *[GitHub](https://github.com/laenholdqqs)*